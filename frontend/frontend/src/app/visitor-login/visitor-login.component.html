<!DOCTYPE html>
 <html lang="en">
 <head>
     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <title>Login</title>
     <link rel="stylesheet" href="visitor-login.component.css">
 </head>
 <body>
     <nav class="navbar">
       <img src="assets/images/logo.jpg" alt="logo" class="logo" >
 
       <h2 class="sms">Society Management System</h2>
 
       <ul class="nav-links">
         <li><a routerLink="" class="home-button">Home</a></li>
         <li><a routerLink="/about" class="home-button">About</a></li>
         <li class="dropdown">
          <a class="home-button dropdown-toggle" id="residentDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            Login
          </a>
          <ul class="dropdown-menu" aria-labelledby="residentDropdown">
            <li><a class="dropdown-item" routerLink="/resident-login">Resident Login</a></li>
            <li><a class="dropdown-item" routerLink="/visitor-login">Visitor Login</a></li>
            <li><a class="dropdown-item" routerLink="/admin-login">Admin Login</a></li>
          </ul>
        </li>
         <li><a routerLink="/register" class="home-button">SignUp</a></li>
         <!-- <li><a routerLink="/admin" class="home-button">Admin</a></li> -->
       </ul>
     </nav>
     <br>
     <br>
     <br>
     <div class="form-container"> 
         <div class="login-form">
          <h2>Visitor Login</h2>
         <!-- <form (ngSubmit)="onLogin()">
            <div>
                <label for="text" style="color:black">Name</label>
                <input type="text" id="text" [(ngModel)]="userData.name" name="name" placeholder="name" required />
              </div>
            <div>
              <label for="email" style="color:black">Email</label>
              <input type="email" id="email" [(ngModel)]="userData.email" name="email" placeholder="email" required />
            </div>

<video #video width="320" height="240" autoplay style="transform: scaleX(-1);"></video>
<canvas #canvas width="320" height="240" hidden style="transform: scaleX(-1);"></canvas>

<br>
<button type="button" (click)="capture()">Capture Photo</button>

<p *ngIf="selectedFile">
  <img [src]="capturedImageUrl" alt="Captured Image" width="320" />
  ðŸ“¸ Photo captured for login!
</p>


<button type="submit">Login</button>

          </form>-->
          <form (ngSubmit)="onLogin()">
  <div>
    <label for="name" style="color:black">Name</label>
    <input type="text" id="name" [(ngModel)]="userData.name" name="name" placeholder="name" required />
  </div>
  
  <div>
    <label for="email" style="color:black">Email</label>
    <input type="email" id="email" [(ngModel)]="userData.email" name="email" placeholder="email" required />
  </div>

  <!-- Video and Canvas for Face Capture -->
  <video #video width="320" height="240" autoplay style="transform: scaleX(-1);"></video>
  <canvas #canvas width="320" height="240" hidden style="transform: scaleX(-1);"></canvas>

  <br>
  <!-- Capture Photo Button -->
  <button type="button" (click)="capture()">Capture Photo</button>

  <p *ngIf="capturedImageUrl">
    <img [src]="capturedImageUrl" alt="Captured Image" width="320" />
    ðŸ“¸ Photo captured for login!
  </p>
  <p *ngIf="fetchedImageUrl">
    <img [src]="fetchedImageUrl" alt="Captured Image" width="320" />
    ðŸ“¸ Stored Photo for login!
  </p>
  
  <!-- Login Submit Button -->
  <button type="submit" [disabled]="!userData.name || !userData.email || !selectedFile || !faceDetected">Login</button>
</form>

        </div>
        
         <p style="color:black">Don't have an account? <a routerLink="/register" class="home-button">Register here</a></p>
     </div>
 </body>
 </html>
  